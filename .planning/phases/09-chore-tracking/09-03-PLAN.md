---
phase: 09-chore-tracking
plan: 03
type: execute
wave: 3
depends_on:
  - "09-02"
files_modified:
  - src/hooks/useMobileNav.ts
  - src/components/layout/MobileNav.tsx
  - src/App.tsx
autonomous: true
requirements:
  - CHOR-03
  - CHOR-04

must_haves:
  truths:
    - "Chores tab appears in mobile navigation bar"
    - "Tapping Chores tab shows ChorePanel full variant on mobile"
    - "Wall sidebar shows chore progress as a persistent compact card"
    - "Chore compact card appears below priority interrupt area in sidebar"
  artifacts:
    - path: "src/hooks/useMobileNav.ts"
      provides: "Extended MobileView type including 'chores'"
      contains: "chores"
    - path: "src/components/layout/MobileNav.tsx"
      provides: "Chores tab in navigation"
      contains: "Chores"
    - path: "src/App.tsx"
      provides: "ChorePanel wired into main content and sidebar"
      contains: "ChorePanel"
  key_links:
    - from: "src/App.tsx"
      to: "src/components/chore/ChorePanel.tsx"
      via: "component render"
      pattern: "ChorePanel.*variant"
    - from: "src/components/layout/MobileNav.tsx"
      to: "src/hooks/useMobileNav.ts"
      via: "MobileView type"
      pattern: "MobileView"
    - from: "src/App.tsx"
      to: "src/hooks/useMobileNav.ts"
      via: "activeView === 'chores'"
      pattern: "activeView.*chores"
---

<objective>
Wire chore components into the application: add Chores tab to mobile nav, render ChorePanel in main content area (mobile) and as persistent sidebar card (wall display).

Purpose: Makes chore tracking accessible from both mobile phones and the wall display, completing the feature integration.

Output: Updated App.tsx, MobileNav.tsx, and useMobileNav.ts with chore support.
</objective>

<execution_context>
@/Users/joshua/.claude/get-shit-done/workflows/execute-plan.md
@/Users/joshua/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/09-chore-tracking/09-RESEARCH.md
@.planning/phases/09-chore-tracking/09-01-SUMMARY.md
@.planning/phases/09-chore-tracking/09-02-SUMMARY.md

@src/App.tsx
@src/hooks/useMobileNav.ts
@src/components/layout/MobileNav.tsx
@src/components/chore/ChorePanel.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add chores to MobileNav and useMobileNav</name>
  <files>src/hooks/useMobileNav.ts, src/components/layout/MobileNav.tsx</files>
  <action>
Update `src/hooks/useMobileNav.ts`:
- Add `'chores'` to the `MobileView` type union: `export type MobileView = 'calendar' | 'groceries' | 'timers' | 'chores';`
- No other changes needed.

Update `src/components/layout/MobileNav.tsx`:
- Import `IoCheckmarkDoneCircleOutline` from `react-icons/io5` (checkmark-in-circle icon fits chores well).
- Add a 4th tab entry to the `tabs` array: `{ view: 'chores', label: 'Chores', icon: IoCheckmarkDoneCircleOutline }`.
- Tab order: Calendar, Groceries, Timers, Chores (chores last since it's the newest feature).
- No other structural changes needed — the existing grid/flex layout handles 4 tabs.
  </action>
  <verify>Run `npx tsc --noEmit` — both files compile. Verify MobileView type includes 'chores'.</verify>
  <done>MobileNav shows 4 tabs including Chores with checkmark icon. MobileView type updated.</done>
</task>

<task type="auto">
  <name>Task 2: Wire ChorePanel into App.tsx main content and sidebar</name>
  <files>src/App.tsx</files>
  <action>
Update `src/App.tsx`:

**Imports:**
- Add: `import { ChorePanel } from './components/chore/ChorePanel';`

**Main content area** (mobile view switching):
- Add `{activeView === 'chores' && <ChorePanel variant="full" />}` alongside the existing calendar/groceries/timers branches.

**Sidebar** (wall display):
- Add `<ChorePanel variant="compact" />` as a PERSISTENT card below the priority interrupt / rotation area. Per research recommendation, chores are ambient info (not time-urgent), so they should always be visible on the wall, not part of priority interrupts.
- Place it AFTER the priority/rotation conditional block, inside the sidebar div but outside the priority/rotation ternary. Structure:

```tsx
<div className="grid-area-sidebar flex flex-col gap-[clamp(10px,1vw,20px)]">
  {priority.mode === 'priority' ? (
    <div className="sidebar-priority-enter flex flex-col gap-[clamp(10px,1vw,20px)] flex-1">
      {priority.showTimers && <TimerPanel variant="compact" />}
      {priority.showGroceries && <GroceryPanel variant="compact" />}
    </div>
  ) : (
    <div className="sidebar-rotation-enter flex flex-col gap-[clamp(10px,1vw,20px)] flex-1">
      <ContentRotator activeIndex={activeIndex}>
        <TransitPanel />
        <HoroscopePanel />
        <CountryPanel />
      </ContentRotator>
      <RotationIndicator ... />
    </div>
  )}
  <ChorePanel variant="compact" />
</div>
```

This places the chore progress card at the bottom of the sidebar regardless of priority mode. It's always visible, providing ambient chore status at a glance.

Do NOT add useChores to App.tsx — the ChorePanel component manages its own hook internally (same pattern as GroceryPanel/TimerPanel for compact variants).
  </action>
  <verify>Run `npm run build` — full build succeeds with no errors. Run `npm run dev` and verify no console errors on load.</verify>
  <done>ChorePanel full variant renders on mobile via Chores tab. ChorePanel compact renders as persistent sidebar card on wall display. Build passes with no errors.</done>
</task>

</tasks>

<verification>
- `npm run build` succeeds with zero errors
- MobileView type includes 'chores'
- MobileNav renders 4 tabs
- App.tsx renders ChorePanel full for mobile chores view
- App.tsx renders ChorePanel compact as persistent sidebar card
- No duplicate hook calls (ChorePanel manages its own useChores internally)
</verification>

<success_criteria>
Chore tracking is fully wired into the application. Mobile users see a Chores tab in the nav bar that shows the full chore management interface. The wall display shows a persistent chore progress card at the bottom of the sidebar. Build passes.
</success_criteria>

<output>
After completion, create `.planning/phases/09-chore-tracking/09-03-SUMMARY.md`
</output>
